import{q as K,d as o,u as J,j as e,a as q,B as d,U as m,G as Q,J as $,r as b,f as O}from"./app-9RPrKl8e.js";import{u as W,f as X}from"./utils-DEcZ_NbZ.js";import{l as c,u as p,F as Y,A as Z}from"./AdminLayout-DPxhWFZx.js";import{c as _}from"./product_api-BAcHFYz0.js";import{B as ee}from"./BrandModal-CrwTvKC8.js";import{C as re}from"./CategoryModal-BjSxQ9hJ.js";import{T as ae}from"./TypeModal-DadFdqcv.js";import{S as P}from"./SectionHeader-BByp1ThL.js";import{P as te}from"./PageTitle-nOtKcPGd.js";import{P as ie}from"./PageTransition-Dyw4Ulu1.js";import{u as oe,I as ne,z as se,p as le}from"./validators-DJ9JG82t.js";import{F as ue}from"./Form-NdoPV3AH.js";import{G as g}from"./Grid-DS7SxOG8.js";import{S as n,C as N,a as s}from"./Title-C8hSoR4r.js";import{A as de,T as x}from"./TextInput-CKQYIJGn.js";import{S as j}from"./SimpleGrid-BwiAAaVy.js";import{S as D}from"./Select-DcZUZ0tT.js";import{N as l}from"./NumberInput-Bo7gjfL2.js";import{M as me}from"./MultiSelect-asZKhqqy.js";import{T as ce}from"./Textarea-DB8b9Jnx.js";import{A as pe}from"./arrow-left-CunX45_l.js";import{A as h,I as k}from"./Image-DLRE3Lc1.js";import{F as ge}from"./FileButton-DoXZARbu.js";import"./Form-BS4VkYmS.js";import"./CheckIcon-DWttf59b.js";import"./react-number-format.es-CJxqVQco.js";import"./Pill-CVZU5a4W.js";const fe=()=>{const t=K().props,a=oe({mode:"uncontrolled",validate:se(le)});o.useEffect(()=>{t!=null&&t.sku&&a.setValues({sku:t.sku})},[t==null?void 0:t.sku]);const C=J(),{mutate:M,isPending:B,isError:E,error:u}=W({mutationFn:_,onSuccess:r=>{var i;C.refetchQueries({queryKey:["products"]}),O.visit(`/kelola-produk/${(i=r==null?void 0:r.data)==null?void 0:i.id}/edit`)},onError:r=>{a.setErrors(X(r==null?void 0:r.errors))}}),V=r=>{M(r)},[f,v]=o.useState(null),y=r=>{if(r){const i=new FileReader;i.onload=()=>{v(i.result)},i.readAsDataURL(r),a.getInputProps("image").onChange(r)}},I=o.useMemo(()=>{var r;return c.isEmpty(t==null?void 0:t.brandList)?[]:(r=t==null?void 0:t.brandList)==null?void 0:r.map(i=>({label:i.name,value:i.id.toString()}))},[t]),S=o.useMemo(()=>{var r;return c.isEmpty(t==null?void 0:t.typeList)?[]:(r=t==null?void 0:t.typeList)==null?void 0:r.map(i=>({label:i.name,value:i.id.toString()}))},[t]),w=o.useMemo(()=>{var r;return c.isEmpty(t==null?void 0:t.categoryList)?[]:(r=t==null?void 0:t.categoryList)==null?void 0:r.map(i=>({label:i.name,value:i.id.toString()}))},[t]),[T,{open:A,close:F}]=p(),[L,{open:z,close:R}]=p(),[G,{open:U,close:H}]=p();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(q,{title:"Tambah Produk"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:116,columnNumber:7},void 0),e.jsxDEV(ee,{opened:T,onClose:F,onCreatedId:r=>{r&&a.getInputProps("brandId").onChange({value:r.toString()})}},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:117,columnNumber:7},void 0),e.jsxDEV(ae,{opened:L,onClose:R,onCreatedId:r=>{r&&a.getInputProps("typeId").onChange({value:r.toString()})}},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:124,columnNumber:7},void 0),e.jsxDEV(re,{opened:G,onClose:H,onCreatedId:r=>{r&&a.getInputProps("categoryIds").onChange({value:[r.toString()]})}},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:131,columnNumber:7},void 0),e.jsxDEV(ie,{children:e.jsxDEV(ue,{form:a,onSubmit:V,children:[e.jsxDEV(te,{title:"Tambah Produk",description:"Merupakan halaman untuk menambah produk baru ke dalam sistem.",children:e.jsxDEV(d,{type:"submit",loading:B,children:"Simpan"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:145,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:141,columnNumber:11},void 0),e.jsxDEV(g,{gutter:"lg",children:[e.jsxDEV(g.Col,{span:{base:12,md:9},order:{base:2,md:1},children:e.jsxDEV(n,{gap:"lg",children:[e.jsxDEV(N,{shadow:"xs",children:[e.jsxDEV(P,{title:"Informasi Produk",description:"Berisi tentang informasi produk yang akan diunggah."},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:153,columnNumber:19},void 0),e.jsxDEV(n,{children:[E&&e.jsxDEV(de,{color:"red",c:"red",icon:e.jsxDEV(ne,{},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:160,columnNumber:58},void 0),children:u==null?void 0:u.message},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:160,columnNumber:23},void 0),e.jsxDEV(j,{cols:{base:1,md:2},spacing:"lg",children:[e.jsxDEV(x,{placeholder:"Masukkan nama produk",label:"Nama Produk",withAsterisk:!0,autoFocus:!0,...a.getInputProps("name")},a.key("name"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:166,columnNumber:23},void 0),e.jsxDEV(x,{placeholder:"Masukkan kode SKU produk",label:"SKU Produk",withAsterisk:!0,...a.getInputProps("sku")},a.key("sku"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:174,columnNumber:23},void 0),e.jsxDEV(D,{data:I,label:"Merek Produk",placeholder:"Pilih merek produk",withAsterisk:!0,searchable:!0,descriptionProps:{component:"div"},description:e.jsxDEV(s,{c:"gray.6",fz:"xs",children:["Tidak menemukan merek?"," ",e.jsxDEV(m,{fz:"xs",c:"blue.5",onClick:A,children:"Tambah merek."},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:191,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:189,columnNumber:27},void 0),clearable:!0,...a.getInputProps("brandId"),onChange:r=>{a.getInputProps("brandId").onChange(r)}},a.key("brandId"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:181,columnNumber:23},void 0),e.jsxDEV(D,{data:S,label:"Tipe Produk",placeholder:"Pilih tipe produk",withAsterisk:!0,descriptionProps:{component:"div"},description:e.jsxDEV(s,{c:"gray.6",fz:"xs",children:["Tidak menemukan tipe?"," ",e.jsxDEV(m,{fz:"xs",c:"blue.5",onClick:z,children:"Tambah tipe."},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:214,columnNumber:29},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:212,columnNumber:27},void 0),searchable:!0,clearable:!0,...a.getInputProps("typeId")},a.key("typeId"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:204,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:165,columnNumber:21},void 0),e.jsxDEV(j,{cols:{base:1,md:2,lg:3,xl:4},spacing:"lg",children:[e.jsxDEV(l,{placeholder:"Masukkan harga jual produk",label:"Harga Jual",hideControls:!0,allowNegative:!1,prefix:"Rp ",decimalSeparator:",",thousandSeparator:".",withAsterisk:!0,...a.getInputProps("salePrice")},a.key("salePrice"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:226,columnNumber:23},void 0),e.jsxDEV(l,{placeholder:"Masukkan harga pemasok",label:"Harga Pemasok",hideControls:!0,prefix:"Rp ",allowNegative:!1,decimalSeparator:",",thousandSeparator:".",withAsterisk:!0,...a.getInputProps("supplierPrice")},a.key("supplierPrice"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:238,columnNumber:23},void 0),e.jsxDEV(l,{placeholder:"Masukkan harga grosir",label:"Harga Grosir",hideControls:!0,prefix:"Rp ",decimalSeparator:",",thousandSeparator:".",withAsterisk:!0,...a.getInputProps("wholesalePrice")},a.key("wholesalePrice"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:250,columnNumber:23},void 0),e.jsxDEV(l,{placeholder:"Masukkan harga eceran",label:"Harga Eceran",hideControls:!0,prefix:"Rp ",allowNegative:!1,decimalSeparator:",",thousandSeparator:".",withAsterisk:!0,...a.getInputProps("retailPrice")},a.key("retailPrice"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:261,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:225,columnNumber:21},void 0),e.jsxDEV(me,{data:w,label:"Kategori Produk",placeholder:"Pilih kategori produk",multiple:!0,searchable:!0,descriptionProps:{component:"div"},description:e.jsxDEV(s,{c:"gray.6",fz:"xs",children:["Tidak menemukan kategori?"," ",e.jsxDEV(m,{fz:"xs",c:"blue.5",onClick:U,children:"Tambah kategori."},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:285,columnNumber:27},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:283,columnNumber:25},void 0),clearable:!0,...a.getInputProps("categoryIds")},a.key("categoryIds"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:275,columnNumber:21},void 0),e.jsxDEV(ce,{placeholder:"Masukkan deskripsi produk",label:"Deskripsi Produk",rows:3,...a.getInputProps("description")},a.key("description"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:295,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:158,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:152,columnNumber:17},void 0),e.jsxDEV(Q,{children:e.jsxDEV(d,{component:$,href:"/kelola-produk",color:"gray.4",c:"gray",variant:"outline",prefetch:!0,leftSection:e.jsxDEV(pe,{size:16},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:313,columnNumber:34},void 0),children:"Kembali"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:306,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:305,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:151,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:150,columnNumber:13},void 0),e.jsxDEV(g.Col,{span:{base:12,md:3},order:{base:1,md:2},children:e.jsxDEV(n,{gap:"lg",children:e.jsxDEV(N,{shadow:"xs",children:[e.jsxDEV(P,{title:"Foto Produk",description:"Berisi tentang foto produk yang akan diunggah."},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:323,columnNumber:19},void 0),e.jsxDEV(n,{gap:"sm",children:e.jsxDEV(Y,{direction:{base:"column",xs:"row",md:"column"},align:{base:"start",xs:"center",md:"start"},gap:"lg",children:[f?e.jsxDEV(h,{ratio:1,w:{base:"100%",xs:b(300),lg:"100%"},children:e.jsxDEV(k,{src:f,alt:a.values.name,fit:"cover",fallbackSrc:"https://images.placeholders.dev/?width=400&height=400&text=image",radius:"lg"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:339,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:338,columnNumber:25},void 0):e.jsxDEV(h,{ratio:1,w:{base:"100%",xs:b(300),lg:"100%"},children:e.jsxDEV(k,{src:"https://images.placeholders.dev/?width=400&height=400&text=image",alt:a.values.name,fit:"cover",radius:"lg"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:349,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:348,columnNumber:25},void 0),e.jsxDEV(n,{gap:"xs",children:[e.jsxDEV(ge,{name:"image",accept:"image/*",...a.getInputProps("image"),onChange:y,children:r=>e.jsxDEV(d,{...r,w:"fit-content",size:"sm",children:"Unggah foto"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:367,columnNumber:29},void 0)},a.key("image"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:359,columnNumber:25},void 0),e.jsxDEV(s,{fz:"xs",c:"gray.6",children:"Format: JPG, PNG, maksimal 2MB"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:372,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:358,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:328,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:327,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:322,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:321,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:320,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:149,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:140,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:139,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:115,columnNumber:5},void 0)};fe.layout=t=>e.jsxDEV(Z,{children:t},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/products/CreateProductPage.tsx",lineNumber:387,columnNumber:55},void 0);export{fe as default};
