import{d as f,R as z,l as j,n as k,i as O}from"./app-CsfJiPAg.js";import{I as W}from"./TextInput-BSrrIIRU.js";var B={};function N(){return"development"}function R(){return R=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)({}).hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},R.apply(null,arguments)}function M(n,t){if(n==null)return{};var r={};for(var e in n)if({}.hasOwnProperty.call(n,e)){if(t.indexOf(e)!==-1)continue;r[e]=n[e]}return r}var $=f.useLayoutEffect,U=function(t){var r=z.useRef(t);return $(function(){r.current=t}),r},E=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},G=function(t,r){var e=z.useRef();return z.useCallback(function(i){t.current=i,e.current&&E(e.current,null),e.current=r,r&&E(r,i)},[r])},T={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Y=function(t){Object.keys(T).forEach(function(r){t.style.setProperty(r,T[r],"important")})},C=Y,o=null,F=function(t,r){var e=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?e+r.borderSize:e-r.paddingSize};function q(n,t,r,e){r===void 0&&(r=1),e===void 0&&(e=1/0),o||(o=document.createElement("textarea"),o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),C(o)),o.parentNode===null&&document.body.appendChild(o);var i=n.paddingSize,u=n.borderSize,a=n.sizingStyle,g=a.boxSizing;Object.keys(a).forEach(function(h){var m=h;o.style[m]=a[m]}),C(o),o.value=t;var s=F(o,n);o.value=t,s=F(o,n),o.value="x";var l=o.scrollHeight-i,d=l*r;g==="border-box"&&(d=d+i+u),s=Math.max(d,s);var v=l*e;return g==="border-box"&&(v=v+i+u),s=Math.min(v,s),[s,l]}var _=function(){},X=function(t,r){return t.reduce(function(e,i){return e[i]=r[i],e},{})},Z=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],D=!!document.documentElement.currentStyle,J=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var e=X(Z,r),i=e.boxSizing;if(i==="")return null;D&&i==="border-box"&&(e.width=parseFloat(e.width)+parseFloat(e.borderRightWidth)+parseFloat(e.borderLeftWidth)+parseFloat(e.paddingRight)+parseFloat(e.paddingLeft)+"px");var u=parseFloat(e.paddingBottom)+parseFloat(e.paddingTop),a=parseFloat(e.borderBottomWidth)+parseFloat(e.borderTopWidth);return{sizingStyle:e,paddingSize:u,borderSize:a}},K=J;function w(n,t,r){var e=U(r);f.useLayoutEffect(function(){var i=function(a){return e.current(a)};if(n)return n.addEventListener(t,i),function(){return n.removeEventListener(t,i)}},[])}var Q=function(t,r){w(document.body,"reset",function(e){t.current.form===e.target&&r(e)})},V=function(t){w(window,"resize",t)},ee=function(t){w(document.fonts,"loadingdone",t)},te=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],re=function(t,r){var e=t.cacheMeasurements,i=t.maxRows,u=t.minRows,a=t.onChange,g=a===void 0?_:a,s=t.onHeightChange,l=s===void 0?_:s,d=M(t,te);if(d.style){if("maxHeight"in d.style)throw new Error("Using `style.maxHeight` for <TextareaAutosize/> is not supported. Please use `maxRows`.");if("minHeight"in d.style)throw new Error("Using `style.minHeight` for <TextareaAutosize/> is not supported. Please use `minRows`.")}var v=d.value!==void 0,h=f.useRef(null),m=G(h,r),H=f.useRef(0),b=f.useRef(),p=function(){var c=h.current,y=e&&b.current?b.current:K(c);if(y){b.current=y;var L=q(y,c.value||c.placeholder||"x",u,i),x=L[0],I=L[1];H.current!==x&&(H.current=x,c.style.setProperty("height",x+"px","important"),l(x,{rowHeight:I}))}},P=function(c){v||p(),g(c)};return f.useLayoutEffect(p),Q(h,function(){if(!v){var S=h.current.value;requestAnimationFrame(function(){var c=h.current;c&&S!==c.value&&p()})}}),V(p),ee(p),f.createElement("textarea",R({},d,{onChange:P,ref:m}))},ne=f.forwardRef(re);const ie={},A=j((n,t)=>{const{autosize:r,maxRows:e,minRows:i,__staticSelector:u,resize:a,...g}=k("Textarea",ie,n),s=r&&N()!=="test",l=s?{maxRows:e,minRows:i}:{};return O.jsx(W,{component:s?ne:"textarea",ref:t,...g,__staticSelector:u||"Textarea",multiline:!0,"data-no-overflow":r&&e===void 0||void 0,__vars:{"--input-resize":a},...l})});A.classes=W.classes;A.displayName="@mantine/core/Textarea";export{A as T};
