import{i as p,l as De,n as Pe,t as Ve,v as Ie,d as w,F as Me,U as ee,E as _e,p as Ae,y as Fe}from"./app-Dw7o5vkh.js";import{N as Te}from"./react-number-format.es-Dy7awLAd.js";import{n as te,c as I}from"./AdminLayout-fHBcBJcE.js";import{e as Ce,d as Le}from"./utils-BPGF-aAi.js";import{I as oe}from"./TextInput-BmGjE_yf.js";function re({direction:r,style:o,...d}){return p.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:r==="up"?"rotate(180deg)":void 0,...o},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...d,children:p.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var z={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const je=/^(0\.0*|-0(\.0*)?)$/,Be=/^-?0\d+(\.\d+)?\.?$/;function U(r){return typeof r=="string"&&r!==""&&!Number.isNaN(Number(r))}function B(r){return typeof r=="number"?r<Number.MAX_SAFE_INTEGER:r===""||U(r)&&Number(r)<Number.MAX_SAFE_INTEGER}function ze(r){return r.toString().replace(".","").length}function Ue(r,o){return(typeof r=="number"?r<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(r)))&&!Number.isNaN(r)&&ze(o)<14&&o!==""}function ne(r,o,d){if(r===void 0)return!0;const M=o===void 0||r>=o,S=d===void 0||r<=d;return M&&S}const Ze={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},Ge=Ie((r,{size:o})=>({controls:{"--ni-chevron-size":Fe(o,"ni-chevron-size")}})),se=De((r,o)=>{const d=Pe("NumberInput",Ze,r),{className:M,classNames:S,styles:Z,unstyled:G,vars:ie,onChange:ae,onValueChange:u,value:ue,defaultValue:ce,max:s,min:c,step:h,hideControls:le,rightSection:k,isAllowed:R,clampBehavior:K,onBlur:_,allowDecimal:de,decimalScale:me,onKeyDown:A,onKeyDownCapture:F,handlersRef:fe,startValue:X,disabled:y,rightSectionPointerEvents:pe,allowNegative:$,readOnly:T,size:H,rightSectionWidth:Ne,stepHoldInterval:x,stepHoldDelay:O,allowLeadingZeros:W,withKeyboardEvents:he,trimLeadingZeroesOnBlur:ve,...be}=d,C=Ve({name:"NumberInput",classes:z,props:d,classNames:S,styles:Z,unstyled:G,vars:ie,varsResolver:Ge}),{resolvedClassNames:ge,resolvedStyles:we}=Ce({classNames:S,styles:Z,props:d}),[n,E]=Le({value:ue,defaultValue:ce,finalValue:"",onChange:ae}),q=O!==void 0&&x!==void 0,N=w.useRef(null),v=w.useRef(null),L=w.useRef(0),Se=(e,t)=>{t.source==="event"&&E(Ue(e.floatValue,e.value)&&!je.test(e.value)&&!(W&&Be.test(e.value))?e.floatValue:e.value),u==null||u(e,t)},b=e=>{const t=String(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},j=e=>{N.current&&typeof e<"u"&&N.current.setSelectionRange(e,e)},D=w.useRef(te);D.current=()=>{if(!B(n))return;let e;const t=b(n),i=b(h),m=Math.max(t,i),l=10**m;if(!U(n)&&(typeof n!="number"||Number.isNaN(n)))e=I(X,c,s);else if(s!==void 0){const a=(Math.round(Number(n)*l)+Math.round(h*l))/l;e=a<=s?a:s}else e=(Math.round(Number(n)*l)+Math.round(h*l))/l;const f=e.toFixed(m);E(parseFloat(f)),u==null||u({floatValue:parseFloat(f),formattedValue:f,value:f},{source:"increment"}),setTimeout(()=>{var a;return j((a=N.current)==null?void 0:a.value.length)},0)};const P=w.useRef(te);P.current=()=>{if(!B(n))return;let e;const t=c!==void 0?c:$?Number.MIN_SAFE_INTEGER:0,i=b(n),m=b(h),l=Math.max(i,m),f=10**l;if(!U(n)&&typeof n!="number"||Number.isNaN(n))e=I(X,t,s);else{const g=(Math.round(Number(n)*f)-Math.round(h*f))/f;e=t!==void 0&&g<t?t:g}const a=e.toFixed(l);E(parseFloat(a)),u==null||u({floatValue:parseFloat(a),formattedValue:a,value:a},{source:"decrement"}),setTimeout(()=>{var g;return j((g=N.current)==null?void 0:g.value.length)},0)};const Re=e=>{A==null||A(e),!(T||!he)&&(e.key==="ArrowUp"&&(e.preventDefault(),D.current()),e.key==="ArrowDown"&&(e.preventDefault(),P.current()))},ye=e=>{if(F==null||F(e),e.key==="Backspace"){const t=N.current;t.selectionStart===0&&t.selectionStart===t.selectionEnd&&(e.preventDefault(),window.setTimeout(()=>j(0),0))}},xe=e=>{let t=n;if(K==="blur"&&typeof t=="number"&&(t=I(t,c,s)),ve&&typeof t=="string"&&b(t)<15){const i=t.toString().replace(/^0+/,""),m=parseFloat(i);t=Number.isNaN(m)||m>Number.MAX_SAFE_INTEGER?i:I(m,c,s)}n!==t&&E(t),_==null||_(e)};Me(fe,{increment:D.current,decrement:P.current});const J=e=>{e?D.current():P.current(),L.current+=1},Q=e=>{if(J(e),q){const t=typeof x=="number"?x:x(L.current);v.current=window.setTimeout(()=>Q(e),t)}},Y=(e,t)=>{var i;e.preventDefault(),(i=N.current)==null||i.focus(),J(t),q&&(v.current=window.setTimeout(()=>Q(t),O))},V=()=>{v.current&&window.clearTimeout(v.current),v.current=null,L.current=0},Ee=p.jsxs("div",{...C("controls"),children:[p.jsx(ee,{...C("control"),tabIndex:-1,"aria-hidden":!0,disabled:y||typeof n=="number"&&s!==void 0&&n>=s,mod:{direction:"up"},onMouseDown:e=>e.preventDefault(),onPointerDown:e=>{Y(e,!0)},onPointerUp:V,onPointerLeave:V,children:p.jsx(re,{direction:"up"})}),p.jsx(ee,{...C("control"),tabIndex:-1,"aria-hidden":!0,disabled:y||typeof n=="number"&&c!==void 0&&n<=c,mod:{direction:"down"},onMouseDown:e=>e.preventDefault(),onPointerDown:e=>{Y(e,!1)},onPointerUp:V,onPointerLeave:V,children:p.jsx(re,{direction:"down"})})]});return p.jsx(oe,{component:Te,allowNegative:$,className:Ae(z.root,M),size:H,...be,readOnly:T,disabled:y,value:n,getInputRef:_e(o,N),onValueChange:Se,rightSection:le||T||!B(n)?k:k||Ee,classNames:ge,styles:we,unstyled:G,__staticSelector:"NumberInput",decimalScale:de?me:0,onKeyDown:Re,onKeyDownCapture:ye,rightSectionPointerEvents:pe??(y?"none":void 0),rightSectionWidth:Ne??`var(--ni-right-section-width-${H||"sm"})`,allowLeadingZeros:W,onBlur:xe,isAllowed:e=>K==="strict"?R?R(e)&&ne(e.floatValue,c,s):ne(e.floatValue,c,s):R?R(e):!0})});se.classes={...oe.classes,...z};se.displayName="@mantine/core/NumberInput";export{se as N};
