import{l as H,n as W,t as re,i as t,c as rt,E as at,d as ae,w as it,x as dt}from"./app-CsfJiPAg.js";import{i as ct,d as oe,e as pt}from"./utils-DTxDwtwe.js";import{i as ut,g as ht,a as ft,u as mt,C as v,O as Pt}from"./Select-CxzNu1PS.js";import{I as ie}from"./TextInput-BSrrIIRU.js";import{u as gt,a as St,P as ne}from"./Pill-Dd1-LyUL.js";var de={field:"m_45c4369d"};const yt={type:"visible"},q=H((g,S)=>{const i=W("PillsInputField",yt,g),{classNames:y,className:o,style:n,styles:p,unstyled:r,vars:E,type:f,disabled:x,id:I,pointer:m,mod:d,...c}=i,l=gt(),P=ct(),F=re({name:"PillsInputField",classes:de,props:i,className:o,style:n,classNames:y,styles:p,unstyled:r,rootSelector:"field"}),D=x||(l==null?void 0:l.disabled);return t.jsx(rt,{component:"input",ref:at(S,l==null?void 0:l.fieldRef),"data-type":f,disabled:D,mod:[{disabled:D,pointer:m},d],...F("field"),...c,id:(P==null?void 0:P.inputId)||I,"aria-invalid":l==null?void 0:l.hasError,"aria-describedby":P==null?void 0:P.describedBy,type:"text",onMouseDown:O=>!m&&O.stopPropagation()})});q.classes=de;q.displayName="@mantine/core/PillsInputField";const bt={},k=H((g,S)=>{const i=W("PillsInput",bt,g),{children:y,onMouseDown:o,onClick:n,size:p,disabled:r,__staticSelector:E,error:f,variant:x,...I}=i,m=ae.useRef(null);return t.jsx(St,{value:{fieldRef:m,size:p,disabled:r,hasError:!!f,variant:x},children:t.jsx(ie,{size:p,error:f,variant:x,component:"div",ref:S,onMouseDown:d=>{var c;d.preventDefault(),o==null||o(d),(c=m.current)==null||c.focus()},onClick:d=>{var l;d.preventDefault();const c=d.currentTarget.closest("fieldset");c!=null&&c.disabled||((l=m.current)==null||l.focus(),n==null||n(d))},...I,multiline:!0,disabled:r,__staticSelector:E||"PillsInput",withAria:!1,children:y})})});k.displayName="@mantine/core/PillsInput";k.Field=q;function vt({data:g,value:S}){const i=S.map(o=>o.trim().toLowerCase());return g.reduce((o,n)=>(ut(n)?o.push({group:n.group,items:n.items.filter(p=>i.indexOf(p.value.toLowerCase().trim())===-1)}):i.indexOf(n.value.toLowerCase().trim())===-1&&o.push(n),o),[])}const xt={maxValues:1/0,withCheckIcon:!0,checkIconPosition:"left",hiddenInputValuesDivider:","},ce=H((g,S)=>{const i=W("MultiSelect",xt,g),{classNames:y,className:o,style:n,styles:p,unstyled:r,vars:E,size:f,value:x,defaultValue:I,onChange:m,onKeyDown:d,variant:c,data:l,dropdownOpened:P,defaultDropdownOpened:F,onDropdownOpen:D,onDropdownClose:O,selectFirstOptionOnChange:M,onOptionSubmit:N,comboboxProps:pe,filter:ue,limit:he,withScrollArea:fe,maxDropdownHeight:me,searchValue:Pe,defaultSearchValue:ge,onSearchChange:Se,readOnly:_,disabled:b,onFocus:B,onBlur:A,onPaste:wt,radius:ye,rightSection:be,rightSectionWidth:ve,rightSectionPointerEvents:K,rightSectionProps:xe,leftSection:we,leftSectionWidth:Ie,leftSectionPointerEvents:Oe,leftSectionProps:_e,inputContainer:Ce,inputWrapperOrder:De,withAsterisk:je,labelProps:Ve,descriptionProps:ke,errorProps:Ee,wrapperProps:Fe,description:Me,label:L,error:U,maxValues:Ne,searchable:u,nothingFoundMessage:J,withCheckIcon:Be,checkIconPosition:Ae,hidePickedOptions:Le,withErrorStyles:$e,name:Re,form:Te,id:ze,clearable:Ge,clearButtonProps:He,hiddenInputProps:We,placeholder:Q,hiddenInputValuesDivider:qe,required:Ke,mod:Ue,renderOption:Je,onRemove:h,onClear:$,scrollAreaProps:Qe,chevronColor:Xe,...X}=i,R=it(ze),T=ht(l),w=ft(T),a=mt({opened:P,defaultOpened:F,onDropdownOpen:D,onDropdownClose:()=>{O==null||O(),a.resetSelectedOption()}}),{styleProps:Ye,rest:{type:It,autoComplete:Ze,...et}}=dt(X),[s,C]=oe({value:x,defaultValue:I,finalValue:[],onChange:m}),[j,tt]=oe({value:Pe,defaultValue:ge,finalValue:"",onChange:Se}),V=e=>{tt(e),a.resetSelectedOption()},z=re({name:"MultiSelect",classes:{},props:i,classNames:y,styles:p,unstyled:r}),{resolvedClassNames:Y,resolvedStyles:Z}=pt({props:i,styles:p,classNames:y}),st=e=>{d==null||d(e),e.key===" "&&!u&&(e.preventDefault(),a.toggleDropdown()),e.key==="Backspace"&&j.length===0&&s.length>0&&(h==null||h(s[s.length-1]),C(s.slice(0,s.length-1)))},lt=s.map((e,G)=>{var se,le;return t.jsx(ne,{withRemoveButton:!_&&!((se=w[e])!=null&&se.disabled),onRemove:()=>{C(s.filter(nt=>e!==nt)),h==null||h(e)},unstyled:r,disabled:b,...z("pill"),children:((le=w[e])==null?void 0:le.label)||e},`${e}-${G}`)});ae.useEffect(()=>{M&&a.selectFirstOption()},[M,j]);const ee=t.jsx(v.ClearButton,{...He,onClear:()=>{$==null||$(),C([]),V("")}}),ot=vt({data:T,value:s}),te=Ge&&s.length>0&&!b&&!_;return t.jsxs(t.Fragment,{children:[t.jsxs(v,{store:a,classNames:Y,styles:Z,unstyled:r,size:f,readOnly:_,__staticSelector:"MultiSelect",onOptionSubmit:e=>{N==null||N(e),V(""),a.updateSelectedOptionIndex("selected"),s.includes(w[e].value)?(C(s.filter(G=>G!==w[e].value)),h==null||h(w[e].value)):s.length<Ne&&C([...s,w[e].value])},...pe,children:[t.jsx(v.DropdownTarget,{children:t.jsx(k,{...Ye,__staticSelector:"MultiSelect",classNames:Y,styles:Z,unstyled:r,size:f,className:o,style:n,variant:c,disabled:b,radius:ye,__defaultRightSection:t.jsx(v.Chevron,{size:f,error:U,unstyled:r,color:Xe}),__clearSection:ee,__clearable:te,rightSection:be,rightSectionPointerEvents:K||(ee?"all":"none"),rightSectionWidth:ve,rightSectionProps:xe,leftSection:we,leftSectionWidth:Ie,leftSectionPointerEvents:Oe,leftSectionProps:_e,inputContainer:Ce,inputWrapperOrder:De,withAsterisk:je,labelProps:Ve,descriptionProps:ke,errorProps:Ee,wrapperProps:Fe,description:Me,label:L,error:U,multiline:!0,withErrorStyles:$e,__stylesApiProps:{...i,rightSectionPointerEvents:K||(te?"all":"none"),multiline:!0},pointer:!u,onClick:()=>u?a.openDropdown():a.toggleDropdown(),"data-expanded":a.dropdownOpened||void 0,id:R,required:Ke,mod:Ue,children:t.jsxs(ne.Group,{disabled:b,unstyled:r,...z("pillsList"),children:[lt,t.jsx(v.EventsTarget,{autoComplete:Ze,children:t.jsx(k.Field,{...et,ref:S,id:R,placeholder:Q,type:!u&&!Q?"hidden":"visible",...z("inputField"),unstyled:r,onFocus:e=>{B==null||B(e),u&&a.openDropdown()},onBlur:e=>{A==null||A(e),a.closeDropdown(),V("")},onKeyDown:st,value:j,onChange:e=>{V(e.currentTarget.value),u&&a.openDropdown(),M&&a.selectFirstOption()},disabled:b,readOnly:_||!u,pointer:!u})})]})})}),t.jsx(Pt,{data:Le?ot:T,hidden:_||b,filter:ue,search:j,limit:he,hiddenWhenEmpty:!J,withScrollArea:fe,maxDropdownHeight:me,filterOptions:u,value:s,checkIconPosition:Ae,withCheckIcon:Be,nothingFoundMessage:J,unstyled:r,labelId:L?`${R}-label`:void 0,"aria-label":L?void 0:X["aria-label"],renderOption:Je,scrollAreaProps:Qe})]}),t.jsx(v.HiddenInput,{name:Re,valuesDivider:qe,value:s,form:Te,disabled:b,...We})]})});ce.classes={...ie.classes,...v.classes};ce.displayName="@mantine/core/MultiSelect";export{ce as M};
