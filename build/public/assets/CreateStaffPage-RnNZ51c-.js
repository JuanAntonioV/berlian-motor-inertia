import{q as E,u as B,d as u,j as e,a as v,B as s,H as y,G as V,J as w,r as d,D as I,V as A,f as K}from"./app-9RPrKl8e.js";import{u as F,f as T}from"./utils-DEcZ_NbZ.js";import{l as L,F as G,A as R}from"./AdminLayout-DPxhWFZx.js";import{c as z}from"./staff_api-BVopTk8t.js";import{S as c}from"./SectionHeader-BByp1ThL.js";import{P as J}from"./PageTitle-nOtKcPGd.js";import{P as Y}from"./PageTransition-Dyw4Ulu1.js";import{u as q,I as H,z as Q,e as U}from"./validators-DJ9JG82t.js";import{F as O}from"./Form-NdoPV3AH.js";import{G as l}from"./Grid-DS7SxOG8.js";import{S as o,C as g,a as $}from"./Title-C8hSoR4r.js";import{A as W,T as f}from"./TextInput-CKQYIJGn.js";import{S as b}from"./SimpleGrid-BwiAAaVy.js";import{P as p}from"./PasswordInput-Et6XEAYE.js";import{D as X}from"./DatePickerInput-Dg9_Mi43.js";import{S as N}from"./Select-DcZUZ0tT.js";import{A as Z}from"./arrow-left-CunX45_l.js";import{A as P,I as x}from"./Image-DLRE3Lc1.js";import{F as _}from"./FileButton-DoXZARbu.js";import"./pick-calendar-levels-props-CXI9PJ_k.js";import"./CheckIcon-DWttf59b.js";const ee=()=>{const t=E().props,r=q({mode:"uncontrolled",validate:Q(U)}),D=B(),{mutate:j,isPending:h,error:n}=F({mutationFn:z,onSuccess:()=>{A.success("Karyawan berhasil ditambahkan"),D.refetchQueries({queryKey:["staffs"]}),K.visit("/kelola-karyawan"),r.reset(),r.setErrors({})},onError:a=>{r.setErrors(T(a==null?void 0:a.errors))}}),S=a=>{j({...a,joinDate:I.fromJSDate(new Date(a.joinDate)).toISODate({format:"extended"}),roles:[a.roles]})},[m,M]=u.useState(null),k=a=>{if(a){const i=new FileReader;i.onload=()=>{M(i.result)},i.readAsDataURL(a),r.getInputProps("image").onChange(a)}},C=u.useMemo(()=>{var a;return L.isEmpty(t==null?void 0:t.roleList)?[]:(a=t==null?void 0:t.roleList)==null?void 0:a.map(i=>({label:i.name,value:i.id.toString()}))},[t==null?void 0:t.roleList]);return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(v,{title:"Tambah Karyawan"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:85,columnNumber:7},void 0),e.jsxDEV(Y,{children:e.jsxDEV(O,{form:r,onSubmit:S,children:[e.jsxDEV(J,{title:"Tambah Karyawan",description:"Merupakan halaman untuk menambah karyawan baru ke dalam sistem.",children:e.jsxDEV(s,{type:"submit",loading:h,children:"Simpan"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:93,columnNumber:13},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:89,columnNumber:11},void 0),e.jsxDEV(l,{gutter:"lg",children:[e.jsxDEV(l.Col,{span:{base:12,md:9},order:{base:2,md:1},children:e.jsxDEV(o,{gap:"lg",children:[e.jsxDEV(g,{shadow:"xs",children:[e.jsxDEV(c,{title:"Informasi Produk",description:"Berisi tentang informasi produk yang akan diunggah."},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:102,columnNumber:19},void 0),e.jsxDEV(o,{children:[(n==null?void 0:n.message)&&e.jsxDEV(W,{color:"red",c:"red",icon:e.jsxDEV(H,{},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:109,columnNumber:58},void 0),children:n==null?void 0:n.message},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:109,columnNumber:23},void 0),e.jsxDEV(b,{cols:{base:1,md:2},spacing:"lg",children:[e.jsxDEV(f,{placeholder:"Masukkan nama lengkap",label:"Nama Lengkap",withAsterisk:!0,autoFocus:!0,...r.getInputProps("fullName")},r.key("fullName"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:115,columnNumber:23},void 0),e.jsxDEV(f,{placeholder:"Masukkan alamat email",label:"Alamat Email",withAsterisk:!0,...r.getInputProps("email")},r.key("email"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:123,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:114,columnNumber:21},void 0),e.jsxDEV(b,{cols:{base:1,md:2},spacing:"lg",children:[e.jsxDEV(p,{placeholder:"Masukkan kata sandi",label:"Kata Sandi",withAsterisk:!0,...r.getInputProps("password")},r.key("password"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:132,columnNumber:23},void 0),e.jsxDEV(p,{placeholder:"Konfirmasi kata sandi",label:"Konfirmasi Kata Sandi",withAsterisk:!0,...r.getInputProps("confirmPassword")},r.key("confirmPassword"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:139,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:131,columnNumber:21},void 0),e.jsxDEV(f,{placeholder:"Masukkan nomor telepon",label:"Nomor Telepon",withAsterisk:!0,maxLength:15,onKeyDown:a=>{!new RegExp("^[0-9]*$").test(a.key)&&a.key!=="Backspace"&&a.key!=="Enter"&&a.key!=="Tab"&&!(a.ctrlKey&&a.key==="a")&&!(a.ctrlKey&&a.key==="c")&&!(a.ctrlKey&&a.key==="v")&&a.preventDefault()},type:"number",inputMode:"numeric",...r.getInputProps("phone")},r.key("phone"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:147,columnNumber:21},void 0),e.jsxDEV(X,{label:"Tanggal Bergabung",placeholder:"Pilih tanggal bergabung",withAsterisk:!0,valueFormat:"DD MMMM YYYY",highlightToday:!0,...r.getInputProps("joinDate")},r.key("joinDate"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:172,columnNumber:21},void 0),e.jsxDEV(y,{data:"roleList",fallback:e.jsxDEV(N,{disabled:!0,label:"Peran Karyawan"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:183,columnNumber:33},void 0),children:e.jsxDEV(N,{data:C,label:"Peran Karyawan",placeholder:"Pilih peran karyawan",withAsterisk:!0,searchable:!0,clearable:!0,...r.getInputProps("roles"),onChange:a=>{r.getInputProps("roles").onChange(a)}},r.key("roles"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:185,columnNumber:23},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:181,columnNumber:21},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:107,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:101,columnNumber:17},void 0),e.jsxDEV(V,{children:e.jsxDEV(s,{component:w,href:"/kelola-karyawan",color:"gray.4",c:"gray",variant:"outline",prefetch:!0,leftSection:e.jsxDEV(Z,{size:16},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:210,columnNumber:34},void 0),children:"Kembali"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:203,columnNumber:19},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:202,columnNumber:17},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:100,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:99,columnNumber:13},void 0),e.jsxDEV(l.Col,{span:{base:12,md:3},order:{base:1,md:2},children:e.jsxDEV(o,{gap:"lg",children:e.jsxDEV(g,{shadow:"xs",children:[e.jsxDEV(c,{title:"Foto Karyawan",description:"Berisi tentang foto karyawan yang akan diunggah."},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:220,columnNumber:19},void 0),e.jsxDEV(o,{gap:"sm",children:e.jsxDEV(G,{direction:{base:"column",xs:"row",md:"column"},align:{base:"start",xs:"center",md:"start"},gap:"lg",children:[m?e.jsxDEV(P,{ratio:1,w:{base:"100%",xs:d(300),lg:"100%"},children:e.jsxDEV(x,{src:m,alt:r.values.name,fit:"cover",fallbackSrc:"https://images.placeholders.dev/?width=400&height=400&text=image",radius:"lg"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:236,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:235,columnNumber:25},void 0):e.jsxDEV(P,{ratio:1,w:{base:"100%",xs:d(300),lg:"100%"},children:e.jsxDEV(x,{src:"https://images.placeholders.dev/?width=400&height=400&text=image",alt:r.values.name,fit:"cover",radius:"lg"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:246,columnNumber:27},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:245,columnNumber:25},void 0),e.jsxDEV(o,{gap:"xs",children:[e.jsxDEV(_,{name:"image",accept:"image/*",...r.getInputProps("image"),onChange:k,children:a=>e.jsxDEV(s,{...a,w:"fit-content",size:"sm",children:"Unggah foto"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:264,columnNumber:29},void 0)},r.key("image"),!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:256,columnNumber:25},void 0),e.jsxDEV($,{fz:"xs",c:"gray.6",children:"Format: JPG, PNG, maksimal 2MB"},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:269,columnNumber:25},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:255,columnNumber:23},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:225,columnNumber:21},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:224,columnNumber:19},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:219,columnNumber:17},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:218,columnNumber:15},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:217,columnNumber:13},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:98,columnNumber:11},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:88,columnNumber:9},void 0)},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:87,columnNumber:7},void 0)]},void 0,!0,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:84,columnNumber:5},void 0)};ee.layout=t=>e.jsxDEV(R,{children:t},void 0,!1,{fileName:"D:/Projects/Berlian Motor/berlian-motor-inertia/inertia/pages/staffs/CreateStaffPage.tsx",lineNumber:285,columnNumber:53},void 0);export{ee as default};
